---
title: "Mini-Project 2"
author: "Your Name Here"
date: "March 24, 2017"
output: html_document
---


## Loading the data


```{r, include=FALSE}
library(tidyverse)
library(ggthemes)
library(ggplot2)

load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
```


```{r}
#Creating file with total contributions for each state
money_from_state <- contributions%>%
  group_by(state)%>%
  summarise(total_amt=sum(transaction_amt))%>%
  arrange(desc(total_amt))
```

```{r}
#Creating file with total number of committees for each state
com_from_state <- committees%>%
  group_by(cmte_state)%>%
  summarise(total_com=n())%>%
  arrange(desc(total_com))%>%
  rename(state=cmte_state)

```

```{r}
#Creating file with total number of candidates from each state
cand_from_state <- candidates%>%
  group_by(cand_state)%>%
  summarise(total_cand=n())%>%
  arrange(desc(total_cand))%>%
  rename(state=cand_state)
```

```{r}
#Joining the three files together by state to create the file we're going to work with
joined_state <- money_from_state%>%
  inner_join(com_from_state,by="state")

joined_state <- joined_state%>%
  inner_join(cand_from_state,by="state")
```

#Creating dot plot
```{r}
ggplot(data=joined_state, aes(x=total_cand, y=total_com)) + geom_point(aes(col=total_amt, size=total_amt)) + guides(color=guide_legend(), size=guide_legend()) + scale_colour_gradient(low="light green", high="dark green")
```

