---
title: "Mini-Project 2"
author: "Your Name Here"
date: "March 24, 2017"
output: html_document
---


## Loading the data


```{r, include=FALSE}
library(tidyverse)
library(ggthemes)

load("house_elections.rda")
load("candidates.rda")
load("committees.rda")
load("contributions.rda")
```

```{r}

sel_com <- committees%>%
  select(cmte_id,org_type)
#select org_type and id from committees
```

```{r}
sel_cand <- candidates%>%
  select(cand_pcc,cand_party_affiliation)%>%
  rename(cmte_id=cand_pcc)
# select com_id and party from candidates
```

```{r}
joined_data <- sel_cand%>%
  left_join(sel_com,by="cmte_id")%>%
  rename(party=cand_party_affiliation)%>%
  rename(id=cmte_id)
# join them and rename
```

```{r}
totalnum_party <-joined_data%>%
  group_by(party)%>%
  summarise(sumOrg=n())
# count the total num of org for each party
```

```{r}
joined_data <- joined_data%>%
  full_join(totalnum_party,by="party")
```

```{r}
# function that takes a party return its commite's type 
committee_org_type <- function(chosenparty){
  joined_data%>%
    filter(party==chosenparty)%>%
    group_by(org_type)%>%
    summarise(each_type=n())
}
```

```{r}
 joined_data
    
```

```{r}

```


